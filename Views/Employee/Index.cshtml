@* @model IEnumerable<WorkingWithMultipleTable_Prod.Models.Employee> *@
@* ab hume data  EmployeeDepatmentListViewModel s lana hai is k liye hum IEnumerable ka use nhi kareng This is using Merge Model *@
@* @model WorkingWithMultipleTable_Prod.Models.ViewModel.EmployeeDepatmentListViewModel *@

@* ab hum data list m le k aar rhe hai EmployeeDepartmentSummaryViewModel is liye hum ab IEnumerable ka use karenge This is using Join Model *@
@model IEnumerable<WorkingWithMultipleTable_Prod.Models.ViewModel.EmployeeDepartmentSummaryViewModel>
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<div class="container">
    <div class="row">
        <div class="col-10 offset-2">
            <h2 class="text-info text-center p-1border border-dark">Employee Details</h2>
            <table class="table table-bordered text-center">
                <thead class="bg-dark text-light">
                    <tr>
                        <th>EmployeeId</th>
                        <th>First Name</th>
                        <th>Middle Name</th>
                        <th>Last Name</th>
                        <th>Gender</th>
                      @*   <td>DepartmentId</td> *@
                        <th>Department Name</th>
                        <th>Department Code</th> 
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @* Model m jo data aayega wo list m hoga use list m lana hoga
                    uske lye hume foreach use arna hoga
                     *@
                     @foreach(var d in Model)
                     {
                        <tr>
                            <td>@d.EmployeeId</td>
                            <td>@d.FirstName</td>
                            <td>@d.MiddleName</td>
                            <td>@d.LastName</td>
                            <td>@d.Gender</td>
                           @*  <td>@d.DepartmentId</td> 
                            <td>@d.Department.DepartmentName</td> *@
                            <td>@d.DepartmentName</td>
                            <td>@d.DepartmentCode</td>
                            <td>
                                <a class="btn btn-sm btn-primary" asp-action="AddEmployee" asp-controller="Employee" asp-route-id="@d.EmployeeId">Edit</a>
                                <a class="btn btn-sm btn-danger" asp-action="DeleteEmployee" onclick="return confirm('Are you sure, You want to delete this record?')" asp-controller="Employee" asp-route-id="@d.EmployeeId">Delete</a>
                                <a class="btn btn-sm btn-warning" asp-action="DetailsEmployee" asp-controller="Employee" asp-route-id="@d.EmployeeId">Details</a>
                            </td>
                        </tr>
                     }
                </tbody>
            </table>
        </div>
    </div>
</div>

